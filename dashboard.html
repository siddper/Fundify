<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Fundify</title>
  <link rel="icon" type="image/png" href="fundifyIcon.png">
  <link rel="stylesheet" href="auth-styles.css">
  <link rel="stylesheet" href="nav.css">
  <link rel="stylesheet" href="dashboard.css">
  <script type="text/javascript" src="command-bar.js" defer></script>
</head>
<body class="dashboard-bg">
  <div class="dashboard-layout">
    <aside class="sidebar">
      <div class="sidebar-top">
        <img src="fundifyIcon.png" alt="Fundify Logo" class="sidebar-logo-img">
        <select class="sidebar-projects-dropdown">
          <option>Default Project</option>
          <option>Personal</option>
          <option>School</option>
        </select>
      </div>
      <nav class="sidebar-nav">
        <ul>
          <a href="dashboard.html">
            <li class="active"><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M192-144v-456l288-216 288 216v456H552v-264H408v264H192Z"/></svg></span>Dashboard</li>
          </a>
          <a href="reminders.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M280-400v-80h400v80H280Zm0 160v-80h280v80H280ZM200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z"/></svg></span>Reminders</li>
          </a>
          <a href="summary.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M640-160v-280h160v280H640Zm-240 0v-640h160v640H400Zm-240 0v-440h160v440H160Z"/></svg></span>Summary</li>
          </a>
          <a href="plan.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M640-520q17 0 28.5-11.5T680-560q0-17-11.5-28.5T640-600q-17 0-28.5 11.5T600-560q0 17 11.5 28.5T640-520Zm-320-80h200v-80H320v80ZM180-120q-34-114-67-227.5T80-580q0-92 64-156t156-64h200q29-38 70.5-59t89.5-21q25 0 42.5 17.5T720-820q0 5-5 23-4 11-7.5 22.5T702-751l91 91h87v279l-113 37-67 224H480v-80h-80v80H180Z"/></svg></span>Plan</li>
          </a>
          <a href="score.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M295-119q-36-1-68.5-18.5T165-189q-40-48-62.5-114.5T80-440q0-83 31.5-156T197-723q54-54 127-85.5T480-840q83 0 156 32t127 87q54 55 85.5 129T880-433q0 77-25 144t-71 113q-28 28-59 42.5T662-119q-18 0-36-4.5T590-137l-56-28q-12-6-25.5-9t-28.5-3q-15 0-28.5 3t-25.5 9l-56 28q-19 10-37.5 14.5T295-119Zm185-241q33 0 56.5-23.5T560-440q0-8-1.5-16t-4.5-16l50-67q10 13 17.5 27.5T634-480h82q-15-88-81.5-144T480-680q-88 0-155 56.5T244-480h82q14-54 57-87t97-33q17 0 32 3t29 9l-51 69q-2 0-5-.5t-5-.5q-33 0-56.5 23.5T400-440q0 33 23.5 56.5T480-360Z"/></svg></span>Score</li>
          </a>
          <a href="fundAI.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M160-360q-50 0-85-35t-35-85q0-50 35-85t85-35v-80q0-33 23.5-56.5T240-760h120q0-50 35-85t85-35q50 0 85 35t35 85h120q33 0 56.5 23.5T800-680v80q50 0 85 35t35 85q0 50-35 85t-85 35v160q0 33-23.5 56.5T720-120H240q-33 0-56.5-23.5T160-200v-160Zm200-80q25 0 42.5-17.5T420-500q0-25-17.5-42.5T360-560q-25 0-42.5 17.5T300-500q0 25 17.5 42.5T360-440Zm240 0q25 0 42.5-17.5T660-500q0-25-17.5-42.5T600-560q-25 0-42.5 17.5T540-500q0 25 17.5 42.5T600-440ZM320-280h320v-80H320v80Z"/></svg></span>FundAI</li>
          </a>
          <a href="help.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="M478-240q21 0 35.5-14.5T528-290q0-21-14.5-35.5T478-340q-21 0-35.5 14.5T428-290q0 21 14.5 35.5T478-240Zm-36-154h74q0-33 7.5-52t42.5-52q26-26 41-49.5t15-56.5q0-56-41-86t-97-30q-57 0-92.5 30T342-618l66 26q5-18 22.5-39t53.5-21q32 0 48 17.5t16 38.5q0 20-12 37.5T506-526q-44 39-54 59t-10 73Zm38 314q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Z"/></svg></span>Help</li>
          </a>
          <a href="settings.html">
            <li><span class="sidebar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000000"><path d="m370-80-16-128q-13-5-24.5-12T307-235l-119 50L78-375l103-78q-1-7-1-13.5v-27q0-6.5 1-13.5L78-585l110-190 119 50q11-8 23-15t24-12l16-128h220l16 128q13 5 24.5 12t22.5 15l119-50 110 190-103 78q1 7 1 13.5v27q0 6.5-2 13.5l103 78-110 190-118-50q-11 8-23 15t-24 12L590-80H370Zm112-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z"/></svg></span>Settings</li>
          </a>
        </ul>
      </nav>
      <div class="sidebar-footer">
        <span>Fundify</span>
      </div>
    </aside>
    <main class="dashboard-main">
      <header class="dashboard-topbar">
        <div class="topbar-left">
          <span class="dashboard-title">Transactions</span>
          <div class="current-balance">
            <span class="balance-label">Balance:</span>
            <span class="balance-amount" id="current-balance-amount">$0.00</span>
          </div>
        </div>
        <button class="dashboard-add-btn" id="openAddModal">
            <svg xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 -960 960 960" width="20px" fill="#e3e3e3"><path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80v-240Z"/></svg>
        </button>
      </header>
      <div class="dashboard-controls">
        <div class="bulk-actions-container" id="bulk-actions-container" style="display: none;">
            <span id="selection-count"></span>
            <div class="bulk-actions-buttons">
                <button id="bulk-copy-btn" class="bulk-action-btn"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-160q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm240-440h200L560-840v200Z"/></svg>Copy</button>
                <button id="bulk-delete-btn" class="bulk-action-btn"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm80-160h80v-360h-80v360Zm160 0h80v-360h-80v360Z"/></svg>Delete</button>
            </div>
        </div>
        <div class="search-sort-container" id="search-sort-container">
          <div class="search-container">
              <input type="text" id="search-input" placeholder="Search transactions...">
              <button id="ai-search-btn" class="ai-search-btn" title="Search with AI">
                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg>                               
              </button>
          </div>
          <div class="custom-dropdown sort-dropdown" id="sort-dropdown">
            <button type="button" class="dropdown-selected" id="sort-selected">Sort by Default</button>
            <ul class="dropdown-list" id="sort-list">
              <li data-value="default">Default</li>
              <li data-value="date_asc">Date: Oldest First</li>
              <li data-value="date_desc">Date: Newest First</li>
              <li data-value="amount_asc">Amount: Low to High</li>
              <li data-value="amount_desc">Amount: High to Low</li>
            </ul>
          </div>
        </div>
        <div class="filter-bar">
          <div id="filter-chips-container"></div>
          <button id="add-filter-btn" class="add-filter-btn" type="button">+ Add Filter</button>
        </div>
      </div>
      <section class="dashboard-table-section">
        <table class="dashboard-table">
          <thead>
            <tr>
              <th><input type="checkbox" id="select-all-checkbox"></th>
              <th>#</th>
              <th>Date</th>
              <th>Type</th>
              <th>Amount</th>
              <th>Store/Source</th>
              <th>Method</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </section>
    </main>
  </div>
  <div class="modal-bg" id="addModal">
    <div class="modal-content">
      <button class="modal-close" id="closeAddModal" title="Close">Ã—</button>
      <div class="modal-header">
        <h2 id="modal-title">Add Transaction</h2>
      </div>
      <div class="modal-body">
        <div class="modal-tabs">
            <button class="modal-tab-btn active" data-content-id="add-transaction-content">
                <span class="option-title">Add Transaction</span>
                <span class="option-desc">Manually enter an expense or deposit.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="quick-transaction-content">
                <span class="option-title">Quick Transaction</span>
                <span class="option-desc">Use AI to parse a transaction from text.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="receipt-scan-content">
                <span class="option-title">Receipt Scan</span>
                <span class="option-desc">Scan a receipt and use AI to add a transaction.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="import-transactions-content">
                <span class="option-title">Import Transactions</span>
                <span class="option-desc">Import from CSV, JSON, or TXT file.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="export-transactions-content">
                <span class="option-title">Export Transactions</span>
                <span class="option-desc">Export your transactions as CSV, JSON, or TXT.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="add-preset-content">
                <span class="option-title">Add Preset</span>
                <span class="option-desc">Save a template for a frequent transaction.</span>
            </button>
            <button class="modal-tab-btn" data-content-id="quick-preset-content">
                <span class="option-title">Quick Preset</span>
                <span class="option-desc">Use AI to create a new preset from text.</span>
            </button>
        </div>
        <div class="modal-tab-content">
            <div id="add-transaction-content" class="tab-pane active">
              <div id="presets-container"></div>
              <form class="transaction-form">
                <div class="form-group">
                  <label for="custom-type">Type</label>
                  <div class="custom-dropdown" id="custom-type-dropdown">
                    <button type="button" class="dropdown-selected" id="custom-type-selected">Withdrawal</button>
                    <ul class="dropdown-list" id="custom-type-list">
                      <li data-value="Withdrawal">Withdrawal</li>
                      <li data-value="Deposit">Deposit</li>
                    </ul>
                  </div>
                </div>
                <div class="form-group">
                  <label for="custom-date">Date</label>
                  <div class="custom-date-picker" id="custom-date-picker">
                    <input type="text" id="custom-date-input" placeholder="mm/dd/yyyy" readonly>
                    <span class="calendar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z"/></svg></span>
                    <div class="calendar-popup" id="calendar-popup"></div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="amount">Amount</label>
                  <input type="number" name="amount" id="amount" placeholder="Amount" min="0" step="0.01" >
                </div>
                <div class="form-group">
                  <label for="custom-method">Method</label>
                  <div class="custom-dropdown" id="custom-method-dropdown">
                    <button type="button" class="dropdown-selected" id="custom-method-selected">Method</button>
                    <ul class="dropdown-list" id="custom-method-list">
                      <li data-value="Credit">Credit</li>
                      <li data-value="Debit">Debit</li>
                      <li data-value="Cash">Cash</li>
                      <li data-value="Check">Check</li>
                    </ul>
                  </div>
                </div>
                <div class="form-group full-width">
                  <label for="store">Store/Source</label>
                  <input type="text" name="store" id="store" placeholder="Store/Source" >
                </div>

                <div class="form-group" id="repeat-toggle-wrapper-div">
                  <label class="repeat-toggle-label" for="repeat-toggle">Repeat Transaction</label>
                  <div class="form-group full-width repeat-toggle-wrapper">
                      <label for="repeat-toggle" class="repeat-toggle-label">Repeat Transaction</label>
                      <label class="switch">
                          <input type="checkbox" id="repeat-toggle">
                          <span class="slider round"></span>
                      </label>
                  </div>
                </div>

                <div id="repeat-options-container" class="full-width">
                    <div class="form-group">
                        <label for="repeat-count">Times to Repeat</label>
                        <input type="number" id="repeat-count" min="1" value="1" placeholder="e.g., 4">
                    </div>
                    <div class="form-group">
                        <label for="repeat-gap">Gap Between (days)</label>
                        <input type="number" id="repeat-gap" min="1" value="7" placeholder="e.g., 30 for monthly">
                    </div>
                </div>

                <div class="form-actions">
                  <button type="button" class="modal-cancel-btn">Cancel</button>
                  <button type="submit" class="modal-action-btn">Add Transaction</button>
                </div>
              </form>
            </div>
            <div id="quick-transaction-content" class="tab-pane">
              <form>
                  <div class="quick-input-container">
                    <textarea class="quick-transaction-prompt" placeholder="e.g., spent $15.50 on lunch at Chipotle with my credit card"></textarea>
                    <button type="button" class="mic-btn" id="start-voice-recognition"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-400q-50 0-85-35t-35-85v-240q0-50 35-85t85-35q50 0 85 35t35 85v240q0 50-35 85t-85 35Zm-40 280v-123q-104-14-172-93t-68-184h80q0 83 58.5 141.5T480-320q83 0 141.5-58.5T680-520h80q0 105-68 184t-172 93v123h-80Z"></path></svg></button>
                  </div>
                  <div class="ai-message-container"></div>
                  <div class="form-actions">
                    <button type="submit" class="modal-action-btn">Add Transaction</button>
                  </div>
              </form>
            </div>
            <div id="receipt-scan-content" class="tab-pane">
              <form id="receipt-scan-form" class="receipt-scan-modern-form">
                <div class="receipt-scan-card">
                  <div class="receipt-upload-row">
                    <input type="file" id="receipt-upload" accept="image/jpeg, image/png" style="display:none;" />
                    <button type="button" class="receipt-btn" id="custom-file-btn">Choose File</button>
                    <span id="file-name" class="file-name-modern">No file chosen</span>
                  </div>
                  <div class="receipt-or">or</div>
                  <button type="button" class="receipt-btn camera-btn" id="start-receipt-camera">Use Camera</button>
                  <div id="receipt-preview" class="receipt-dropzone">No image selected</div>
                  <div class="receipt-scan-actions">
                    <button type="button" class="modal-cancel-btn receipt-cancel-btn">Cancel</button>
                    <button type="submit" class="modal-action-btn receipt-ai-btn" disabled>Add Transaction</button>
                  </div>
                  <div class="ai-message-container receipt-status-message"></div>
                </div>
              </form>
            </div>
            <div id="import-transactions-content" class="tab-pane">
              <form id="import-transactions-form" class="import-modal-card">
                <h2 class="import-modal-title">Import transactions</h2>
                <p class="import-modal-desc">Import a <b>.CSV</b>, <b>.JSON</b>, or <b>.TXT</b> file of your transactions.</p>
                <div class="import-file-row">
                  <input type="file" id="import-file" accept=".csv,.json,.txt" style="display:none;">
                  <button type="button" id="custom-import-file-btn" class="import-file-btn">Choose File</button>
                  <span id="import-file-name" class="import-file-name">No file chosen</span>
                </div>
                <div class="import-modal-actions">
                  <button type="button" class="modal-cancel-btn">Cancel</button>
                  <button type="submit" class="modal-action-btn">Import</button>
                </div>
                <div class="import-status-message ai-message-container"></div>
              </form>
            </div>
            <div id="export-transactions-content" class="tab-pane">
              <form id="export-transactions-form" class="import-export-form">
                <div class="form-group full-width">
                  <div class="export-format-desc">Export your transactions as a .CSV, .JSON, or .TXT file.</div>
                  <div class="export-format-row">
                    <div id="export-format-switch" class="export-format-switch">
                      <button type="button" class="export-format-btn active" data-format="csv">CSV</button>
                      <button type="button" class="export-format-btn" data-format="json">JSON</button>
                      <button type="button" class="export-format-btn" data-format="txt">TXT</button>
                    </div>
                  </div>
                </div>
                <input type="hidden" id="export-format" value="csv">
                <div class="export-modal-actions export-modal-actions-box">
                  <button type="button" class="modal-cancel-btn">Cancel</button>
                  <button type="submit" class="modal-action-btn">Export</button>
                </div>
                <div class="export-status-message ai-message-container"></div>
              </form>
            </div>
            <div id="add-preset-content" class="tab-pane">
              <form class="preset-form">
                <div class="form-group full-width">
                  <label for="preset-name">Name</label>
                  <input type="text" name="presetName" id="preset-name" placeholder="Preset Name" >
                </div>
                <div class="form-group">
                  <label for="custom-preset-type">Type</label>
                  <div class="custom-dropdown" id="custom-preset-type-dropdown">
                    <button type="button" class="dropdown-selected" id="custom-preset-type-selected">Withdrawal</button>
                    <ul class="dropdown-list" id="custom-preset-type-list">
                      <li data-value="Withdrawal">Withdrawal</li>
                      <li data-value="Deposit">Deposit</li>
                    </ul>
                  </div>
                </div>
                <div class="form-group">
                  <label for="custom-preset-date">Date</label>
                  <div class="custom-date-picker" id="custom-preset-date-picker">
                    <input type="text" id="custom-preset-date-input" placeholder="mm/dd/yyyy" readonly>
                    <span class="calendar-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-80h80v80h320v-80h80v80h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Z"/></svg></span>
                    <div class="calendar-popup" id="custom-preset-calendar-popup"></div>
                  </div>
                </div>
                <div class="form-group">
                  <label for="preset-amount">Amount</label>
                  <input type="number" name="amount" id="preset-amount" placeholder="Amount" min="0" step="0.01" >
                </div>
                <div class="form-group">
                  <label for="custom-preset-method">Method</label>
                  <div class="custom-dropdown" id="custom-preset-method-dropdown">
                    <button type="button" class="dropdown-selected" id="custom-preset-method-selected">Method</button>
                    <ul class="dropdown-list" id="custom-preset-method-list">
                      <li data-value="Credit">Credit</li>
                      <li data-value="Debit">Debit</li>
                      <li data-value="Cash">Cash</li>
                      <li data-value="Check">Check</li>
                    </ul>
                  </div>
                </div>
                <div class="form-group full-width">
                  <label for="preset-store">Store/Source</label>
                  <input type="text" name="store" id="preset-store" placeholder="Store/Source" >
                </div>
                <div class="form-actions">
                  <button type="button" class="modal-cancel-btn">Cancel</button>
                  <button type="submit" class="modal-action-btn">Save Preset</button>
                </div>
              </form>
            </div>
            <div id="quick-preset-content" class="tab-pane">
              <form>
                <div class="quick-input-container">
                  <textarea class="quick-preset-prompt" placeholder="e.g., Chipotle lunch for $20 with cash"></textarea>
                  <button type="button" class="mic-btn" id="start-voice-recognition-preset"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor"><path d="M480-400q-50 0-85-35t-35-85v-240q0-50 35-85t85-35q50 0 85 35t35 85v240q0 50-35 85t-85 35Zm-40 280v-123q-104-14-172-93t-68-184h80q0 83 58.5 141.5T480-320q83 0 141.5-58.5T680-520h80q0 105-68 184t-172 93v123h-80Z"></path></svg></button>
                </div>
                <div class="ai-message-container"></div>
                <div class="form-actions">
                  <button type="submit" class="modal-action-btn">Save Preset</button>
                </div>
              </form>
            </div>
        </div>
      </div>
    </div>
  </div>

  <div class="voice-recognition-ui" id="voice-recognition-ui">
    <div class="voice-ui-content">
      <div class="waveform-container" id="waveform-container">
        <!-- Bars will be generated by JS -->
      </div>
      <div class="voice-ui-controls">
        <div class="voice-status">
          <span class="recording-dot"></span>
          <span id="voice-status-text">Listening...</span>
        </div>
        <button class="voice-ui-btn" id="stop-voice-recognition">Stop <kbd>Space</kbd></button>
        <button class="voice-ui-btn" id="cancel-voice-recognition">Cancel <kbd>Esc</kbd></button>
      </div>
    </div>
  </div>

  <div id="filter-modal" class="filter-modal-bg">
    <div class="filter-modal-content">
      <button class="filter-modal-close" id="close-filter-modal" title="Close">&times;</button>
      <div class="filter-modal-header">
        <h3 id="filter-modal-title">Add Filter</h3>
      </div>
      <div class="filter-modal-body">
        <form id="filter-form">
          <div class="filter-inputs-container">
            <div class="custom-dropdown" id="filter-type-dropdown">
              <button type="button" class="dropdown-selected" id="filter-type-selected">Date</button>
              <ul class="dropdown-list" id="filter-type-list">
                <li data-value="date">Date</li>
                <li data-value="type">Type</li>
                <li data-value="amount">Amount</li>
                <li data-value="store_source">Store/Source</li>
                <li data-value="method">Method</li>
              </ul>
            </div>
            <div id="filter-value-group">
              <div id="filter-value-inputs"></div>
            </div>
          </div>
          <div class="filter-modal-actions">
            <button id="apply-filter-btn" class="modal-action-btn">Add Filter</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Camera Modal for Receipt Scan -->
  <div id="camera-modal" class="filter-modal-bg" style="display:none;z-index:3000;">
    <div class="filter-modal-content" style="max-width:480px;min-width:320px;">
      <div class="filter-modal-header">
        <h3>Scan Receipt with Camera</h3>
      </div>
      <div class="filter-modal-body" style="align-items:center;">
        <video id="camera-preview" autoplay playsinline style="width:100%;max-width:400px;border-radius:10px;background:#18191a;"></video>
        <canvas id="camera-canvas" style="display:none;"></canvas>
        <div style="margin-top:18px;display:flex;gap:12px;justify-content:center;">
          <button type="button" class="modal-action-btn" id="capture-photo-btn">Capture</button>
          <button type="button" class="camera-cancel-btn" id="close-camera-btn">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5.0.1/dist/tesseract.min.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
